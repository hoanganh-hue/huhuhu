[2025-09-08 06:12:58] [INFO] ============================================================
[2025-09-08 06:12:58] [INFO] 🔍 Check CCCD - Automated Setup & Run
[2025-09-08 06:12:58] [INFO] ============================================================
[2025-09-08 06:12:58] [INFO] 🔍 Kiểm tra phiên bản Python...
[2025-09-08 06:12:58] [INFO] ✅ Python 3.13.7
[2025-09-08 06:12:58] [INFO] 📦 Cài đặt dependencies...
[2025-09-08 06:13:05] [INFO] ✅ Dependencies đã được cài đặt thành công
[2025-09-08 06:13:05] [INFO] 🔧 Thiết lập environment variables...
[2025-09-08 06:13:05] [INFO] ✅ Environment variables đã được thiết lập
[2025-09-08 06:13:05] [INFO] 🗄️ Tạo và cập nhật database schema...
[2025-09-08 06:13:06] [INFO] ✅ Database tables đã được tạo
[2025-09-08 06:13:06] [INFO] 🔄 Cập nhật các trường thông tin trong database...
[2025-09-08 06:13:06] [INFO] 📝 Cập nhật CheckRequest table...
[2025-09-08 06:13:06] [INFO] 📝 Cập nhật CheckMatch table...
[2025-09-08 06:13:06] [INFO] 📝 Cập nhật ApiKey table...
[2025-09-08 06:13:06] [INFO] 📊 Tạo database indexes...
[2025-09-08 06:13:06] [ERROR] ❌ Lỗi khi tạo indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
[2025-09-08 06:13:06] [ERROR] ❌ Lỗi khi cập nhật fields: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
[2025-09-08 06:13:06] [ERROR] ❌ Lỗi khi cập nhật database: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
[2025-09-08 06:14:22] [INFO] ============================================================
[2025-09-08 06:14:22] [INFO] 🔍 Check CCCD - Automated Setup & Run
[2025-09-08 06:14:22] [INFO] ============================================================
[2025-09-08 06:14:22] [INFO] 🔍 Kiểm tra phiên bản Python...
[2025-09-08 06:14:22] [INFO] ✅ Python 3.13.7
[2025-09-08 06:14:22] [INFO] 📦 Cài đặt dependencies...
[2025-09-08 06:14:24] [INFO] ✅ Dependencies đã được cài đặt thành công
[2025-09-08 06:14:24] [INFO] 🔧 Thiết lập environment variables...
[2025-09-08 06:14:24] [INFO] ✅ Environment variables đã được thiết lập
[2025-09-08 06:14:24] [INFO] 🗄️ Tạo và cập nhật database schema...
[2025-09-08 06:14:25] [INFO] ✅ Database tables đã được tạo
[2025-09-08 06:14:25] [INFO] 🔄 Cập nhật các trường thông tin trong database...
[2025-09-08 06:14:25] [INFO] 📝 Cập nhật CheckRequest table...
[2025-09-08 06:14:25] [INFO] 📝 Cập nhật CheckMatch table...
[2025-09-08 06:14:25] [INFO] 📝 Cập nhật ApiKey table...
[2025-09-08 06:14:25] [INFO] 📊 Tạo database indexes...
[2025-09-08 06:14:25] [ERROR] ❌ Lỗi khi tạo indexes: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
[2025-09-08 06:14:25] [ERROR] ❌ Lỗi khi cập nhật fields: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
[2025-09-08 06:14:25] [ERROR] ❌ Lỗi khi cập nhật database: Textual SQL expression 'CREATE INDEX IF NOT EXIST...' should be explicitly declared as text('CREATE INDEX IF NOT EXIST...')
[2025-09-08 06:14:56] [INFO] ============================================================
[2025-09-08 06:14:56] [INFO] 🔍 Check CCCD - Automated Setup & Run
[2025-09-08 06:14:56] [INFO] ============================================================
[2025-09-08 06:14:56] [INFO] 🔍 Kiểm tra phiên bản Python...
[2025-09-08 06:14:56] [INFO] ✅ Python 3.13.7
[2025-09-08 06:14:56] [INFO] 📦 Cài đặt dependencies...
[2025-09-08 06:14:58] [INFO] ✅ Dependencies đã được cài đặt thành công
[2025-09-08 06:14:58] [INFO] 🔧 Thiết lập environment variables...
[2025-09-08 06:14:58] [INFO] ✅ Environment variables đã được thiết lập
[2025-09-08 06:14:58] [INFO] 🗄️ Tạo và cập nhật database schema...
[2025-09-08 06:14:59] [INFO] ✅ Database tables đã được tạo
[2025-09-08 06:14:59] [INFO] 🔄 Cập nhật các trường thông tin trong database...
[2025-09-08 06:14:59] [INFO] 📝 Cập nhật CheckRequest table...
[2025-09-08 06:14:59] [INFO] 📝 Cập nhật CheckMatch table...
[2025-09-08 06:14:59] [INFO] 📝 Cập nhật ApiKey table...
[2025-09-08 06:14:59] [INFO] 📊 Tạo database indexes...
[2025-09-08 06:14:59] [INFO] ✅ Database indexes đã được tạo
[2025-09-08 06:14:59] [INFO] ✅ Các trường thông tin đã được cập nhật
[2025-09-08 06:14:59] [INFO] 📋 Tạo sample data...
[2025-09-08 06:14:59] [INFO] ✅ Sample data đã được tạo
[2025-09-08 06:14:59] [INFO] ✅ Database schema đã được cập nhật thành công
[2025-09-08 06:14:59] [INFO] 🔍 Kiểm tra cấu trúc database...
[2025-09-08 06:14:59] [INFO] 📊 Database tables: ['check_requests', 'api_keys', 'check_matches']
[2025-09-08 06:14:59] [INFO] 📋 Table check_requests:
[2025-09-08 06:14:59] [INFO]    - id (UUID) NOT NULL
[2025-09-08 06:14:59] [INFO]    - cccd (VARCHAR(20)) NOT NULL
[2025-09-08 06:14:59] [INFO]    - status (VARCHAR(20)) NOT NULL
[2025-09-08 06:14:59] [INFO]    - created_at (DATETIME) NULL
[2025-09-08 06:14:59] [INFO]    - updated_at (DATETIME) NULL
[2025-09-08 06:14:59] [INFO]    - error_message (TEXT) NULL
[2025-09-08 06:14:59] [INFO] 📋 Table api_keys:
[2025-09-08 06:14:59] [INFO]    - id (UUID) NOT NULL
[2025-09-08 06:14:59] [INFO]    - key_hash (VARCHAR(255)) NOT NULL
[2025-09-08 06:14:59] [INFO]    - name (VARCHAR(100)) NOT NULL
[2025-09-08 06:14:59] [INFO]    - is_active (BOOLEAN) NULL
[2025-09-08 06:14:59] [INFO]    - rate_limit_per_minute (INTEGER) NULL
[2025-09-08 06:14:59] [INFO]    - created_at (DATETIME) NULL
[2025-09-08 06:14:59] [INFO]    - last_used_at (DATETIME) NULL
[2025-09-08 06:14:59] [INFO] 📋 Table check_matches:
[2025-09-08 06:14:59] [INFO]    - id (UUID) NOT NULL
[2025-09-08 06:14:59] [INFO]    - request_id (UUID) NOT NULL
[2025-09-08 06:14:59] [INFO]    - type (VARCHAR(20)) NOT NULL
[2025-09-08 06:14:59] [INFO]    - name (VARCHAR(255)) NULL
[2025-09-08 06:14:59] [INFO]    - tax_code (VARCHAR(20)) NULL
[2025-09-08 06:14:59] [INFO]    - url (VARCHAR(500)) NULL
[2025-09-08 06:14:59] [INFO]    - address (TEXT) NULL
[2025-09-08 06:14:59] [INFO]    - role (VARCHAR(100)) NULL
[2025-09-08 06:14:59] [INFO]    - raw_snippet (TEXT) NULL
[2025-09-08 06:14:59] [INFO]    - created_at (DATETIME) NULL
[2025-09-08 06:14:59] [INFO] ✅ Cấu trúc database đã được kiểm tra
[2025-09-08 06:14:59] [INFO] 🚀 Khởi động các services...
[2025-09-08 06:14:59] [INFO] 🌐 Khởi động API server...
[2025-09-08 06:14:59] [INFO] 📖 API Documentation: http://localhost:8000/docs
[2025-09-08 06:14:59] [INFO] 🔍 Health Check: http://localhost:8000/health
[2025-09-08 06:14:59] [INFO] 📊 Metrics: http://localhost:8000/metrics
[2025-09-08 06:14:59] [INFO] 
============================================================
[2025-09-08 06:14:59] [INFO] 🎉 Hệ thống Check CCCD đã sẵn sàng!
[2025-09-08 06:14:59] [INFO] ============================================================

